---
import Section from './ui/Section.astro';
import Card from './ui/Card.astro';

const experiences = [
  {
    title: 'MastÃ¨re Architecte Web',
    company: 'Digital School of Paris - Institut F2I',
    period: 'BAC+5 : 2024 - PrÃ©sent',
    year: 2026,
    description: "Formation dâ€™expertise en alternance orientÃ©e architecture web, dÃ©veloppement full-stack et pilotage de projets digitaux. Acquisition de compÃ©tences en conception et dÃ©ploiement dâ€™applications complexes, en gestion dâ€™Ã©quipes techniques et en stratÃ©gie de transformation digitale",
    technologies: [
      "Digitalisation",
      "Full-Stack",
      "Gestion de projet",
      "DevOps",
      "Leadership",
      "UX/UI Design"
    ],
    type: 'education'
  },
  {
    title: 'DÃ©veloppeur Full-Stack - Alternance',
    company: 'Conseil DÃ©partemental du Val-de-Marne',
    period: '2023 - PrÃ©sent',
    year: 2023.5,
    description: "Refonte complÃ¨te d'applications web (backend et frontend), gestion et optimisation de bases de donnÃ©es, maintenance et Ã©volution de solutions existantes. Conception et dÃ©veloppement d'une extension VS Code pour amÃ©liorer la productivitÃ© de l'Ã©quipe",
    technologies: [
      "Frontend",
      "Backend",
      "Base de donnÃ©es",
      "VS Code Extension",
      "Maintenance"
    ],
    type: 'work'
  },
  {
    title: 'Licence Professionnelle - MÃ©tiers de l\'Informatique: Applications Web (Parcours DAW2I)',
    company: 'UniversitÃ© d\'Evry Val d\'Essonne - Paris Saclay',
    period: 'BAC+4 : 2023 - 2024',
    year: 2023.2,
    description: "Formation axÃ©e sur le dÃ©veloppement avancÃ© dâ€™applications web et mobiles. Acquisition de compÃ©tences solides en modÃ©lisation de donnÃ©es, conception dâ€™interfaces, dÃ©veloppement client/serveur et intÃ©gration de services web. Mise en pratique Ã  travers des projets tutorÃ©s orientÃ©s production et dÃ©ploiement dâ€™applications rÃ©elles",
    technologies: [
      "Front-End",
      "Back-End",
      "ModÃ©lisation",
      "IntÃ©gration",
      "CMS"
    ],
    type: 'education'
  },
  {
    title: 'DÃ©veloppeur Web - Stage',
    company: 'RJ Web',
    period: '2023',
    year: 2023,
    description: "Gestion et rÃ©pertoriation des activitÃ©s du quartier Lavalle. DÃ©veloppement d'un systÃ¨me de facilitation des inscriptions Ã  des Ã©vÃ¨nements locaux et crÃ©ation d'une newsletter pour amÃ©liorer la communication avec les rÃ©sidents",
    technologies: [
      "DÃ©veloppement Web",
      "Gestion de contenu",
      "Newsletter",
      "Base de donnÃ©es",
      "Authentification"
    ],
    type: 'work'
  },
  {
    title: 'DÃ©veloppeur Web - Stage',
    company: 'CrÃ©dit Agricole',
    period: '2022',
    year: 2022,
    description: "PÃ´le Achat Technologie Service : CrÃ©ation d'interface web, gestion de bases de donnÃ©es et dÃ©veloppement de scripts d'automatisation pour optimiser les processus internes",
    technologies: [
      "DÃ©veloppement Web",
      "Base de donnÃ©es",
      "Scripting",
      "Automatisation"
    ],
    type: 'work'
  },
  {
    title: 'BTS Services Informatiques aux Organisations - Option SLAM',
    company: 'LycÃ©e LÃ©onard de Vinci, Melun',
    period: '2021 - 2023',
    year: 2022.5,
    description: 'Solutions Logicielles et Applications MÃ©tiers. Formation aux compÃ©tences en programmation, gestion de projet, sÃ©curitÃ© informatique, gestion de donnÃ©es et cybersÃ©curisation des solutions applicatives',
    technologies: ['Programmation', 'Base de donnÃ©es', 'SÃ©curitÃ©', 'Collaboration', 'DÃ©veloppement web'],
    type: 'education'
  }
].sort((a, b) => b.year - a.year);
---

<Section 
  id="experience" 
  title="Parcours"
  subtitle="Mon parcours acadÃ©mique et professionnel"
>
  <div class="relative">
    <!-- Timeline verticale -->
    <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 bg-gradient-to-b from-primary-500 to-primary-600"></div>

    <!-- ExpÃ©riences -->
    <div class="space-y-12">
      {experiences.map((exp, index) => (
        <div 
          class={`reveal flex flex-col md:flex-row items-center gap-8 ${
            index % 2 === 0 ? 'md:flex-row-reverse' : ''
          }`}
        >
          <!-- Carte d'expÃ©rience -->
          <div class="flex-1 w-full">
            <Card className="relative">
              <!-- Indicateur de type -->
              <div class={`absolute -top-3 ${index % 2 === 0 ? 'right-4' : 'left-4'} px-3 py-1 rounded-full text-xs font-semibold ${
                exp.type === 'work' 
                  ? 'bg-gradient-to-r from-primary-500 to-primary-600 text-white' 
                  : 'bg-gradient-to-r from-dark-700 to-dark-600 text-primary-400'
              }`} style="margin-top: 3.5%">
                {exp.type === 'work' ? 'ðŸ’¼ ExpÃ©rience' : 'ðŸŽ“ Formation'}
              </div>

              <!-- Contenu -->
              <div class="pt-2">
                <div class="flex items-start justify-between mb-3">
                  <div>
                    <h3 class="text-xl font-bold text-dark-100 mb-1">{exp.title}</h3>
                    <p class="text-primary-400 font-medium">{exp.company}</p>
                  </div>
                  <span class="text-sm text-dark-400 whitespace-nowrap ml-4">{exp.period}</span>
                </div>

                <p class="text-dark-300 mb-4 leading-relaxed">
                  {exp.description}
                </p>

                <!-- Technologies -->
                <div class="flex flex-wrap gap-2">
                  {exp.technologies.map((tech) => (
                    <span class="px-3 py-1 rounded-lg bg-dark-800/50 text-primary-400 text-sm border border-dark-700">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
            </Card>
          </div>

          <!-- Point sur la timeline (desktop uniquement) -->
          <div class="hidden md:block relative flex-shrink-0">
            <div class="w-4 h-4 rounded-full bg-primary-500 border-4 border-dark-900 shadow-lg shadow-primary-500/50"></div>
            <div class="absolute inset-0 w-4 h-4 rounded-full bg-primary-500 animate-ping opacity-75"></div>
          </div>

          <!-- Espace pour l'autre cÃ´tÃ© -->
          <div class="hidden md:block flex-1"></div>
        </div>
      ))}
    </div>
  </div>

  <!-- CTA pour tÃ©lÃ©charger le CV -->
  <div class="text-center mt-16 reveal">
    <a 
      href="Curriculum_Vitae_TABAR_LABONNE_Baptiste.pdf" 
      download
      class="inline-flex items-center gap-2 px-8 py-4 rounded-2xl bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold hover:shadow-xl hover:shadow-primary-500/30 transition-all duration-300 hover:scale-105"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg>
      TÃ©lÃ©charger mon CV
    </a>
  </div>
</Section>