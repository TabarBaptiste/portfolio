---
import Section from './ui/Section.astro';
import Card from './ui/Card.astro';

const experiences = [
  {
    title: 'Mast√®re Architecte Web',
    company: 'Digital School of Paris - Institut F2I',
    period: 'BAC+5',
    description: "Formation d‚Äôexpertise en alternance orient√©e architecture web, d√©veloppement full-stack et pilotage de projets digitaux. Acquisition de comp√©tences en conception et d√©ploiement d‚Äôapplications complexes, en gestion d‚Äô√©quipes techniques et en strat√©gie de transformation digitale",
    technologies: [
      "Digitalisation",
      "Full-Stack",
      "Gestion de projet",
      "DevOps",
      "Leadership",
      "UX/UI Design"
    ],
    type: 'education'
  },
  {
    title: 'Licence Professionnelle - M√©tiers de l\'Informatique: Applications Web (Parcours DAW2I)',
    company: 'Universit√© d\'Evry Val d\'Essonne - Paris Saclay',
    period: 'BAC+3',
    description: "Formation ax√©e sur le d√©veloppement avanc√© d‚Äôapplications web et mobiles. Acquisition de comp√©tences solides en mod√©lisation de donn√©es, conception d‚Äôinterfaces, d√©veloppement client/serveur et int√©gration de services web. Mise en pratique √† travers des projets tutor√©s orient√©s production et d√©ploiement d‚Äôapplications r√©elles",
    technologies: [
      "Front-End",
      "Back-End",
      "Mod√©lisation",
      "Int√©gration",
      "CMS"
    ],
    type: 'education'
  },
  {
    title: 'BTS Services Informatiques aux Organisations - Option SLAM',
    company: 'Lyc√©e L√©onard de Vinci, Melun',
    period: 'BAC+2',
    description: 'Solutions Logicielles et Applications M√©tiers. Formation aux comp√©tences en programmation, gestion de projet, s√©curit√© informatique, gestion de donn√©es et cybers√©curisation des solutions applicatives',
    technologies: ['Programmation', 'Base de donn√©es', 'S√©curit√©',  'Collaboration', 'D√©veloppement web'],
    type: 'education'
  }
];
---

<Section 
  id="experience" 
  title="Formation"
  subtitle="Mon parcours acad√©mique et professionnel"
>
  <div class="relative">
    <!-- Timeline verticale -->
    <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 bg-gradient-to-b from-primary-500 to-primary-600"></div>

    <!-- Exp√©riences -->
    <div class="space-y-12">
      {experiences.map((exp, index) => (
        <div 
          class={`reveal flex flex-col md:flex-row items-center gap-8 ${
            index % 2 === 0 ? 'md:flex-row-reverse' : ''
          }`}
        >
          <!-- Carte d'exp√©rience -->
          <div class="flex-1 w-full">
            <Card className="relative">
              <!-- Indicateur de type -->
              <div class={`absolute -top-3 ${index % 2 === 0 ? 'right-4' : 'left-4'} px-3 py-1 rounded-full text-xs font-semibold ${
                exp.type === 'work' 
                  ? 'bg-gradient-to-r from-primary-500 to-primary-600 text-white' 
                  : 'bg-gradient-to-r from-dark-700 to-dark-600 text-primary-400'
              }`} style="margin-top: 3%">
                {exp.type === 'work' ? 'üíº Exp√©rience' : 'üéì Formation'}
              </div>

              <!-- Contenu -->
              <div class="pt-2">
                <div class="flex items-start justify-between mb-3">
                  <div>
                    <h3 class="text-xl font-bold text-dark-100 mb-1">{exp.title}</h3>
                    <p class="text-primary-400 font-medium">{exp.company}</p>
                  </div>
                  <span class="text-sm text-dark-400 whitespace-nowrap ml-4">{exp.period}</span>
                </div>

                <p class="text-dark-300 mb-4 leading-relaxed">
                  {exp.description}
                </p>

                <!-- Technologies -->
                <div class="flex flex-wrap gap-2">
                  {exp.technologies.map((tech) => (
                    <span class="px-3 py-1 rounded-lg bg-dark-800/50 text-primary-400 text-sm border border-dark-700">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
            </Card>
          </div>

          <!-- Point sur la timeline (desktop uniquement) -->
          <div class="hidden md:block relative flex-shrink-0">
            <div class="w-4 h-4 rounded-full bg-primary-500 border-4 border-dark-900 shadow-lg shadow-primary-500/50"></div>
            <div class="absolute inset-0 w-4 h-4 rounded-full bg-primary-500 animate-ping opacity-75"></div>
          </div>

          <!-- Espace pour l'autre c√¥t√© -->
          <div class="hidden md:block flex-1"></div>
        </div>
      ))}
    </div>
  </div>

  <!-- CTA pour t√©l√©charger le CV -->
  <div class="text-center mt-16 reveal">
    <a 
      href="Curriculum_Vitae_TABAR_LABONNE_Baptiste.pdf" 
      download
      class="inline-flex items-center gap-2 px-8 py-4 rounded-2xl bg-gradient-to-r from-primary-500 to-primary-600 text-white font-semibold hover:shadow-xl hover:shadow-primary-500/30 transition-all duration-300 hover:scale-105"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg>
      T√©l√©charger mon CV
    </a>
  </div>
</Section>
<!-- TODO : Ajouter une partie Exp√©rience professionnelle -->